webpackJsonp([4],{"6OGb":function(t,e,s){t.exports=s.p+"static/img/exam1.1a4d0d9.png"},OVnw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),c=s("PmVp"),n=s("lXEs"),l=s("TVG1"),r=s("14gb"),o=s("NYxO"),v={components:{SideBar:c.a,canvasOp:n.a},data:function(){return{collapse:!1,activeName:"",examVisible:!1,introVisible:!1,inner_height:100,pagesplitDetail:{},pagerect:{},updateCanvas:1,scales:[.5,1,2],scaleIndex:1,rects:[]}},computed:i()({},Object(o.b)({solidRects:function(t){return t.canvas.rects},curRect:function(t){return t.canvas.curRect}})),watch:{curRect:function(t,e){0!=_.filter(this.solidRects,function(t){return!t.kselmarked}).length?this.submitType="error":this.submitType="success"}},created:function(){var t=this;r.a.$on("collapse",function(e){t.collapse=e});var e=localStorage.getItem("pagesplitDetail");JSON.parse(e)&&(this.pagesplitDetail=JSON.parse(e),this.rects=this.pagesplitDetail.pagerects,this.pagerect=this.pagesplitDetail.pagerects[0])},mounted:function(){this.getWorkData(),this.$store.commit("setScale",{scale:1})},methods:{examShow:function(t){this.activeName=t,this.examVisible=!0},introShow:function(t){this.activeName=t,this.introVisible=!0},scale:function(t){1==t?(this.scaleIndex=Math.min(this.scales.length-1,this.scaleIndex+1),this.$store.commit("setScale",{scale:this.scales[this.scaleIndex]})):0==t&&(this.scaleIndex=Math.max(0,this.scaleIndex-1),this.$store.commit("setScale",{scale:this.scales[this.scaleIndex]}))},getWorkData:function(){var t=this;l.a.createImgObjWithUrl(this.pagerect.img_path).then(function(e){t.$store.commit("setImageAndRects",{image:e.target,rects:t.rects}),t.$store.commit("setCurRect",{rect:t.pagerect}),t.updateCanvas+=1}).catch(function(t){console.log("图片载入失败"+t)})},scrollToRect:function(){var t=this,e=this.$store.getters.scale,s=document.getElementsByClassName(" canvas-layout")[0],a=s.clientWidth,i=s.clientHeight-20,c=s.scrollTop,n=s.scrollLeft,l=this.$store.getters.curRect;if(l.y*e>c&&l.y*e+l.h<c+i&&l.x*e>n&&l.x*e+l.w<n+a)return!0;var r=Math.max(l.x*e-window.innerWidth/3,l.x),o=Math.max(l.y*e-window.innerHeight/3,l.y);this.$nextTick(function(){t.$refs.wrapper.scrollTo(r,o)}),window.wrapper=this.$refs.wrapper}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title",value:"页切分标注",expression:"'页切分标注'"}],staticClass:"pagesplit"},[a("side-bar"),t._v(" "),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"main-content",class:{ml:t.collapse},attrs:{collapse:t.collapse}},[a("div",{staticClass:"btns clearfix"},[a("div",{staticClass:"btn-group fl"},[a("span",{class:{active:"查看示例"===t.activeName},on:{click:function(e){t.examShow("查看示例")}}},[t._v("查看示例")]),t._v(" "),a("span",{class:{active:"标注说明"===t.activeName},on:{click:function(e){t.introShow("标注说明")}}},[t._v("标注说明")])]),t._v(" "),a("div",{staticClass:"scale fr"},[a("span",{on:{click:function(e){t.scale(!0)}}},[t._v("+")]),t._v(" "),a("span",[t._v("1:"+t._s(t.$store.getters.scale))]),t._v(" "),a("span",{on:{click:function(e){t.scale(!1)}}},[t._v("-")])])]),t._v(" "),a("el-dialog",{staticClass:"examdialog",attrs:{title:"查看示例",visible:t.examVisible,width:"60%"},on:{"update:visible":function(e){t.examVisible=e}}},[a("img",{attrs:{src:s("6OGb"),alt:"标注示例"}})]),t._v(" "),a("el-dialog",{staticClass:"introdialog",attrs:{title:"标注说明",visible:t.introVisible,width:"60%"},on:{"update:visible":function(e){t.introVisible=e}}},[a("div",{staticClass:"text"},[a("p",[t._v("标注说明：")]),t._v(" "),a("p",[t._v("1.您需要检查图片外边框是否将图片完全圈住，如有切到图片内字体的情况请调整边框大小。")]),t._v(" "),a("p",[t._v("2.使用鼠标按住页框的上下左右四个角可进行放大缩小页框。")]),t._v(" "),a("p",[t._v("3.快捷键使用说明：")]),t._v(" "),a("p",[t._v("(1).首先使用空格键选中页框再进行以下操作：")]),t._v(" "),a("p",[t._v("(2).选中页框后： 按"),a("em",[t._v("shift 加上 ↑ ↓ ← →")]),t._v("键可以将对应的边往外调大;")]),t._v(" "),a("p",[t._v("(3).选中页框后： 按"),a("em",[t._v("alt 加上 ↑ ↓ ← →")]),t._v("键可以将对应的边往内调小;")]),t._v(" "),a("p",[t._v("(4).选中页框后： 按"),a("em",[t._v("↑ ↓ ← →")]),t._v("键可以上下左右移动页框;")]),t._v(" "),a("p",[t._v("(5).选中页框后： 按"),a("em",[t._v("W+↑ S+↓ A+← D+→")]),t._v("键也可以上下左右移动页框;")]),t._v(" "),a("p",[t._v("(6).操作完成后按空格键释放页框")])])]),t._v(" "),a("div",{ref:"wrapper",staticClass:"container canvas-layout",style:{height:t.inner_height}},[a("div",[a("canvas-op",{attrs:{redraw:t.updateCanvas},on:{scrollToRect:t.scrollToRect}})],1)]),t._v(" "),a("div",{staticClass:"submit fr"},[t._v("提交")])],1)])],1)},staticRenderFns:[]};var h=s("VU/8")(v,p,!1,function(t){s("sQlz"),s("qFHt")},"data-v-57c9cb52",null);e.default=h.exports},qFHt:function(t,e){},sQlz:function(t,e){}});